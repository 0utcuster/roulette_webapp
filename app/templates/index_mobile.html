<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>CLO DROP</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@500;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg-1:#060812;
      --bg-2:#0b1030;
      --bg-3:#1b1038;
      --accent:#ffb74a;
      --accent-2:#ff7b2c;
      --text-dim:rgba(255,255,255,.68);
      --line:rgba(255,255,255,.14);
    }
    html,body{ height:100%; font-family: Manrope, system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    .grad{
      background: linear-gradient(160deg, #05070f 0%, #0a1130 45%, #101c45 100%);
      position: relative;
      isolation: isolate;
    }
    .grad::before{
      content:"";
      position: fixed;
      inset: -25vh -25vw;
      z-index: -1;
      pointer-events: none;
      background:
        radial-gradient(50% 45% at 18% 22%, rgba(255,120,48,.20), transparent 70%),
        radial-gradient(52% 48% at 84% 18%, rgba(97,134,255,.24), transparent 72%),
        radial-gradient(48% 44% at 56% 84%, rgba(255,82,138,.14), transparent 74%);
      filter: blur(38px) saturate(1.08);
      transform: translate3d(0,0,0);
      animation: bgFlow 28s ease-in-out infinite alternate;
    }
    @keyframes bgFlow{
      0%{ transform: translate3d(0%, 0%, 0) scale(1.04); }
      100%{ transform: translate3d(-3%, 2%, 0) scale(1.1); }
    }
    .card{
      background: linear-gradient(180deg, rgba(26,31,63,.9), rgba(12,16,35,.92));
      backdrop-filter: blur(16px);
      border: 1px solid var(--line);
      box-shadow: 0 16px 40px rgba(0,0,0,.4);
    }
    .btn{ transition: transform .12s ease, opacity .12s ease; }
    .btn:active{ transform: translateY(1px) scale(.99); }
    .btn-primary{
      background: linear-gradient(180deg, #ffd07d, var(--accent));
      color:#1b1205;
      box-shadow: 0 8px 26px rgba(255,154,59,.35);
      border: 1px solid rgba(255,220,140,.5);
    }
    .btn-primary:hover{ filter: brightness(1.05); }
    .safe-pad{ padding-bottom: calc(92px + env(safe-area-inset-bottom)); }
    .nav{ padding-bottom: env(safe-area-inset-bottom); }
    .reel{ will-change: transform; }
    .prize-card{
      position: relative;
      border-radius: 24px;
      overflow: hidden;
      isolation: isolate;
      border: 1px solid rgba(255,255,255,.15);
      background:
        linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)),
        radial-gradient(120% 100% at 18% 8%, rgba(255,255,255,.08), transparent 58%),
        #12182f;
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,.05),
        inset 0 -20px 32px rgba(0,0,0,.22);
    }
    .prize-card::before{
      content:""; position:absolute; inset:-1px; border-radius:24px; pointer-events:none; opacity:.95;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.08);
    }
    .prize-backglow{
      position:absolute;
      left:50%;
      top:50px;
      width:74%;
      height:64px;
      transform:translateX(-50%);
      border-radius:999px;
      filter: blur(14px) saturate(1.08);
      opacity:.32;
      pointer-events:none;
      z-index:0;
    }
    .prize-img{
      width: 100%;
      height: 120px;
      object-fit: cover;
      object-position: center center;
      display:block;
      padding: 0;
      background: transparent;
      filter: drop-shadow(0 8px 14px rgba(0,0,0,.18)) drop-shadow(0 2px 6px rgba(0,0,0,.14));
    }
    .prize-overlay{
      position:absolute; inset:0;
      background:
        linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,0) 36%),
        linear-gradient(180deg, rgba(0,0,0,.08), rgba(0,0,0,.52));
      z-index: 1;
    }
    .prize-badge{ position:absolute; left:12px; top:12px; padding:6px 10px; border-radius: 999px; background: rgba(255,255,255,.14); border: 1px solid rgba(255,255,255,.18); font-size: 11px; font-weight: 800; backdrop-filter: blur(10px); }
    .prize-title{ position:absolute; left:12px; right:12px; bottom:12px; font-size: 15px; font-weight: 900; letter-spacing: -0.2px; }
    .prize-img{ position:relative; z-index:2; }
    .prize-badge,.prize-title{ z-index:3; }
    .prize-card.rarity-blue{ border-color: rgba(109,188,255,.35); box-shadow: inset 0 0 0 1px rgba(74,163,255,.16), inset 0 0 24px rgba(74,163,255,.10), inset 0 -18px 28px rgba(0,0,0,.18); }
    .rarity-blue .prize-badge{ background: rgba(70,146,255,.18); border-color: rgba(109,188,255,.35); color:#cfe7ff; }
    .rarity-blue .prize-backglow{ background: radial-gradient(ellipse at center, rgba(85,176,255,.56) 0%, rgba(85,176,255,.26) 40%, rgba(85,176,255,0) 78%); }
    .rarity-blue.prize-card{
      background:
        linear-gradient(180deg, rgba(86,176,255,.18), rgba(28,74,128,.2)),
        radial-gradient(120% 100% at 15% 10%, rgba(115,206,255,.28), transparent 62%),
        radial-gradient(95% 90% at 86% 84%, rgba(39,105,200,.22), transparent 70%),
        #111b33;
    }
    .rarity-blue .prize-overlay{
      background:
        linear-gradient(180deg, rgba(131,205,255,.14), rgba(131,205,255,0) 36%),
        linear-gradient(180deg, rgba(40,103,177,.12), rgba(10,18,32,.56));
    }
    .prize-card.rarity-purple{ border-color: rgba(184,120,255,.42); box-shadow: inset 0 0 0 1px rgba(167,88,255,.18), inset 0 0 26px rgba(167,88,255,.10), inset 0 -18px 28px rgba(0,0,0,.18); }
    .rarity-purple .prize-badge{ background: rgba(162,84,255,.2); border-color: rgba(184,120,255,.45); color:#ecd8ff; }
    .rarity-purple .prize-backglow{ background: radial-gradient(ellipse at center, rgba(177,101,255,.6) 0%, rgba(177,101,255,.28) 42%, rgba(177,101,255,0) 80%); }
    .rarity-purple.prize-card{
      background:
        linear-gradient(180deg, rgba(170,94,255,.2), rgba(67,30,122,.2)),
        radial-gradient(120% 100% at 15% 10%, rgba(216,141,255,.24), transparent 62%),
        radial-gradient(95% 90% at 86% 84%, rgba(97,42,160,.24), transparent 70%),
        #1b1233;
    }
    .rarity-purple .prize-overlay{
      background:
        linear-gradient(180deg, rgba(214,162,255,.12), rgba(214,162,255,0) 36%),
        linear-gradient(180deg, rgba(102,48,177,.12), rgba(12,10,23,.56));
    }
    .prize-card.rarity-red{ border-color: rgba(255,106,106,.45); box-shadow: inset 0 0 0 1px rgba(255,73,73,.20), inset 0 0 28px rgba(255,73,73,.10), inset 0 -18px 28px rgba(0,0,0,.18); }
    .rarity-red .prize-badge{ background: rgba(255,92,92,.2); border-color: rgba(255,128,128,.5); color:#ffe0e0; }
    .rarity-red .prize-backglow{ background: radial-gradient(ellipse at center, rgba(255,97,97,.62) 0%, rgba(255,97,97,.28) 42%, rgba(255,97,97,0) 82%); }
    .rarity-red.prize-card{
      background:
        linear-gradient(180deg, rgba(255,102,102,.2), rgba(126,34,60,.22)),
        radial-gradient(120% 100% at 15% 10%, rgba(255,153,153,.24), transparent 62%),
        radial-gradient(95% 90% at 86% 84%, rgba(169,43,79,.24), transparent 70%),
        #2a1423;
    }
    .rarity-red .prize-overlay{
      background:
        linear-gradient(180deg, rgba(255,171,171,.11), rgba(255,171,171,0) 36%),
        linear-gradient(180deg, rgba(177,50,80,.12), rgba(16,10,16,.58));
    }
    .prize-card.rarity-yellow{ border-color: rgba(255,214,108,.52); box-shadow: inset 0 0 0 1px rgba(255,191,63,.22), inset 0 0 30px rgba(255,191,63,.11), inset 0 -18px 28px rgba(0,0,0,.18); }
    .rarity-yellow .prize-badge{ background: rgba(255,188,78,.24); border-color: rgba(255,214,108,.55); color:#fff3cc; }
    .rarity-yellow .prize-backglow{ background: radial-gradient(ellipse at center, rgba(255,210,92,.7) 0%, rgba(255,210,92,.32) 42%, rgba(255,210,92,0) 82%); }
    .rarity-yellow.prize-card{
      background:
        linear-gradient(180deg, rgba(255,209,94,.22), rgba(121,76,22,.24)),
        radial-gradient(120% 100% at 15% 10%, rgba(255,232,150,.26), transparent 62%),
        radial-gradient(95% 90% at 86% 84%, rgba(167,112,28,.24), transparent 70%),
        #2a2012;
    }
    .rarity-yellow .prize-overlay{
      background:
        linear-gradient(180deg, rgba(255,236,171,.13), rgba(255,236,171,0) 36%),
        linear-gradient(180deg, rgba(190,132,37,.13), rgba(20,14,8,.56));
    }
    .prize-card.is-target{
      transform: scale(1.015);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,.25),
        inset 0 0 0 3px rgba(255,211,110,.22),
        inset 0 0 28px rgba(255,211,110,.18),
        inset 0 -20px 30px rgba(0,0,0,.24);
    }
    .rarity-chip{
      display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px;
      font-size:11px; font-weight:800; border:1px solid rgba(255,255,255,.16); background:rgba(255,255,255,.08);
    }
    .rarity-dot{ width:8px; height:8px; border-radius:999px; }
    .rarity-blue .rarity-dot, .rarity-dot.rarity-blue{ background:#5fb8ff; box-shadow:0 0 10px rgba(95,184,255,.7); }
    .rarity-purple .rarity-dot, .rarity-dot.rarity-purple{ background:#b06bff; box-shadow:0 0 10px rgba(176,107,255,.7); }
    .rarity-red .rarity-dot, .rarity-dot.rarity-red{ background:#ff6a6a; box-shadow:0 0 10px rgba(255,106,106,.7); }
    .rarity-yellow .rarity-dot, .rarity-dot.rarity-yellow{ background:#ffd56b; box-shadow:0 0 10px rgba(255,213,107,.8); }
    .case-item-thumb{ position:relative; overflow:hidden; }
    .case-item-thumb-glow{
      position:absolute; inset:8px;
      border-radius:999px;
      filter: blur(10px) saturate(1.1);
      opacity:.5;
      pointer-events:none;
      z-index:0;
    }
    .case-item-thumb img{
      position:relative; z-index:1;
      object-fit: contain;
      padding: 4px;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.2));
      background: transparent;
    }
    .rarity-blue .case-item-thumb-glow{ background: radial-gradient(circle, rgba(95,184,255,.58), rgba(95,184,255,0) 72%); }
    .rarity-purple .case-item-thumb-glow{ background: radial-gradient(circle, rgba(176,107,255,.62), rgba(176,107,255,0) 72%); }
    .rarity-red .case-item-thumb-glow{ background: radial-gradient(circle, rgba(255,106,106,.62), rgba(255,106,106,0) 72%); }
    .rarity-yellow .case-item-thumb-glow{ background: radial-gradient(circle, rgba(255,213,107,.7), rgba(255,213,107,0) 72%); }
    .roulette-card{
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      border-color: rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(29,34,70,.84), rgba(10,14,33,.9));
    }
    .roulette-card:active{ transform: scale(.98); }
    .roulette-card::before{
      content:"";
      position:absolute; inset:-1px;
      border-radius:24px;
      background: linear-gradient(135deg, rgba(255,180,74,.0), rgba(255,180,74,.25), rgba(124,156,255,.18), rgba(255,180,74,.0));
      opacity:0;
      transition: opacity .25s ease;
      pointer-events:none;
    }
    .roulette-card:hover::before{ opacity:.6; }
    .roulette-card.selected{
      box-shadow: 0 0 0 1px rgba(255,205,120,.85), 0 24px 48px rgba(7,9,20,.7), 0 0 38px rgba(255,130,60,.28);
      border-color: rgba(255,206,124,.7);
    }
    .case-cover{ position:relative; height:140px; border-radius:18px; overflow:hidden; border:1px solid rgba(255,255,255,.15); }
    .case-cover img{ width:100%; height:100%; object-fit:cover; display:block; }
    .case-cover::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.12) 20%, rgba(0,0,0,.72) 100%);
    }
    .case-tag{
      display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px;
      border:1px solid rgba(255,214,132,.42);
      background:linear-gradient(180deg, rgba(255,190,94,.2), rgba(255,122,44,.22));
      font-size:11px; font-weight:800;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.3);
    }
    .modal-backdrop{ background: rgba(0,0,0,.55); backdrop-filter: blur(10px); }
    .result-pop{
      animation: popIn .25s ease;
    }
    @keyframes popIn{
      from{ transform: translateY(10px) scale(.96); opacity:0; }
      to{ transform: translateY(0) scale(1); opacity:1; }
    }
    .pulse{
      animation: pulseGlow 1.8s infinite;
    }
    @keyframes pulseGlow{
      0%{ box-shadow: 0 0 0 0 rgba(255,162,74,.42); }
      70%{ box-shadow: 0 0 0 12px rgba(255,162,74,0); }
      100%{ box-shadow: 0 0 0 0 rgba(255,162,74,0); }
    }
    input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
    input[type=number]{ -moz-appearance: textfield; }
    .online-dot{
      width:10px; height:10px; border-radius:999px; background:#35ff84;
      box-shadow: 0 0 0 0 rgba(53,255,132,.6);
      animation: onlinePulse 1.6s infinite;
    }
    @keyframes onlinePulse{
      0%{ box-shadow: 0 0 0 0 rgba(53,255,132,.6); opacity:1; }
      70%{ box-shadow: 0 0 0 10px rgba(53,255,132,0); opacity:.75; }
      100%{ box-shadow: 0 0 0 0 rgba(53,255,132,0); opacity:1; }
    }
    .live-toast{
      position: fixed;
      left: 12px;
      right: 12px;
      top: 86px;
      z-index: 70;
      pointer-events: none;
      transform: translateY(-8px);
      opacity: 0;
      transition: all .35s ease;
    }
    .live-toast.show{
      transform: translateY(0);
      opacity: 1;
    }
    .fx-layer{
      pointer-events:none;
      position: fixed;
      inset:0;
      z-index:75;
      overflow:hidden;
    }
    .fx-star{
      position:absolute;
      font-size:16px;
      animation: starFall 1.8s linear forwards;
      opacity: .9;
      text-shadow: 0 0 14px rgba(255,200,80,.55);
    }
    @keyframes starFall{
      0%{ transform: translateY(-20px) rotate(0deg) scale(.8); opacity:0; }
      12%{ opacity:1; }
      100%{ transform: translateY(110vh) rotate(540deg) scale(1.2); opacity:0; }
    }
  </style>
</head>

<body class="grad text-white">
  <div class="min-h-screen safe-pad">
    <header class="px-4 pt-5">
      <div class="grid grid-cols-[1fr_auto_auto] gap-2 items-stretch">
        <div class="card rounded-2xl px-3 h-12 min-w-0 flex items-center gap-2">
          <div class="h-8 w-8 rounded-xl bg-white/10 border border-white/15 grid place-items-center shrink-0">‚≠ê</div>
          <div class="min-w-0">
            <div class="text-[10px] uppercase tracking-wide text-white/60 leading-none">Telegram Stars</div>
            <div class="text-sm font-extrabold tracking-tight truncate">CLO DROP</div>
          </div>
        </div>
        <div class="card rounded-2xl px-3 h-12 min-w-[120px] flex flex-col justify-center">
          <div class="text-[10px] text-white/65 leading-none">–ë–∞–ª–∞–Ω—Å</div>
          <div class="font-black text-sm tracking-tight"><span id="balance">‚Äî</span><span class="text-amber-300">‚≠ê</span></div>
        </div>
        <button id="openProfileBtn" class="btn rounded-2xl bg-white/10 border border-white/15 h-12 px-4 text-xs font-extrabold whitespace-nowrap">–ü—Ä–æ—Ñ–∏–ª—å</button>
      </div>

      <div class="mt-4 card rounded-3xl p-4">
        <div class="flex items-center justify-between gap-2">
          <div>
            <div class="text-sm font-extrabold">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
            <div class="mt-1 text-xs text-white/70">
              –°–ø–∏–Ω —Å—Ç–æ–∏—Ç <span class="font-bold" id="spin-cost-inline">‚Äî</span>‚≠ê. –í—ã–ø–∞–¥–∞—é—Ç –≤–µ—â–∏, —Å–∫–∏–¥–∫–∏ –∏–ª–∏ Stars.
            </div>
          </div>
        </div>
        <div class="mt-3 space-y-2">
          <div class="flex items-center gap-2 rounded-2xl bg-black/20 border border-white/10 px-2 py-2 min-w-0">
            <img id="userAvatar" src="/static/prizes/stars_150.svg" class="w-9 h-9 rounded-xl object-cover border border-white/15 shrink-0"/>
            <div class="text-left min-w-0 flex-1">
              <div id="userName" class="text-xs font-extrabold truncate">–ò–≥—Ä–æ–∫</div>
              <div id="userHandle" class="text-[11px] text-white/60 truncate">@username</div>
            </div>
          </div>
          <div class="grid grid-cols-3 gap-2">
            <button id="depositBtn" class="btn btn-primary rounded-2xl font-extrabold px-3 py-2.5 w-full">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
            <button id="withdrawBtn" class="btn rounded-2xl bg-white/10 border border-white/15 font-extrabold px-3 py-2.5 w-full">–í—ã–≤–æ–¥</button>
            <a id="contactBtn" href="#" target="_blank" rel="noopener" class="btn rounded-2xl bg-white/10 border border-white/15 font-extrabold px-3 py-2.5 w-full text-center">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
          </div>
        </div>
        <div class="mt-2 text-[11px] text-white/60" id="msg">‚Äî</div>
        <div class="mt-3 flex items-center justify-between rounded-2xl bg-black/20 border border-white/10 px-3 py-2">
          <div class="flex items-center gap-2">
            <div class="online-dot"></div>
            <div class="text-xs text-white/80">–°–µ–π—á–∞—Å –æ–Ω–ª–∞–π–Ω</div>
          </div>
          <div class="font-extrabold text-sm"><span id="onlineCount">10</span></div>
        </div>
      </div>

      <button id="eventBannerBtn" class="mt-3 rounded-3xl overflow-hidden border border-white/15 relative w-full text-left">
        <img id="eventBannerImg" src="/static/prizes/r4/ticket_sneakers_3.svg" class="w-full h-36 object-cover opacity-85"/>
        <div class="absolute inset-0 bg-gradient-to-r from-black/70 via-black/30 to-transparent"></div>
        <div class="absolute left-4 bottom-4">
          <div class="text-[11px] uppercase tracking-wide text-white/70" id="eventBannerSubtitle">Event</div>
          <div class="text-2xl font-black leading-tight" id="eventBannerTitle">CLO DROP</div>
          <div class="mt-1 text-xs text-white/80" id="eventShopMention">–ú–∞–≥–∞–∑–∏–Ω: CLO DROP</div>
        </div>
      </button>
    </header>

    <main class="px-4 mt-4 space-y-4">
      <!-- –†–£–õ–ï–¢–ö–ê -->
      <section id="screen-roulette" class="space-y-4">
        <div>
          <div class="flex items-center justify-between">
            <div class="text-sm font-extrabold tracking-tight text-white/90">–í—ã–±–µ—Ä–∏—Ç–µ —Ä—É–ª–µ—Ç–∫—É</div>
            <button id="btn-roulette-info" class="text-xs font-bold text-white/60 hover:text-white/90">–ü—Ä–∞–≤–∏–ª–∞</button>
          </div>
          <div id="roulette-grid" class="mt-2 grid grid-cols-2 gap-3"></div>
        </div>

        <div class="flex items-center justify-between">
          <div>
            <div id="roulette-title" class="text-lg font-black tracking-tight">CLO DROP</div>
            <div class="text-xs font-bold text-white/55">–ü—Ä–æ–∫—Ä—É—Ç: <span id="spin-cost">‚Äî</span>‚≠ê</div>
          </div>
          <div class="text-right">
            <div class="text-xs font-bold text-white/55">–ë–∞–ª–∞–Ω—Å</div>
            <div id="balance-top" class="text-base font-black">‚Äî</div>
          </div>
        </div>

        <div class="card rounded-3xl p-4">
          <div class="flex items-start justify-between">
            <div>
              <div class="text-xs text-white/70">üé∞ –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–µ–π—Å–∞</div>
              <div class="text-lg font-extrabold">–ö—Ä—É—Ç–∏—Ç–µ –∑–∞ <span id="spinCostTitle">‚Äî</span>‚≠ê</div>
              <div class="text-xs text-white/70 mt-1">–í—ã–∏–≥—Ä—ã–≤–∞–π—Ç–µ –≤–µ—â–∏, —Å–∫–∏–¥–∫–∏ –∏ Stars. –†–µ–¥–∫–∏–µ –º–µ—Ö–∞–Ω–∏–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ —Ö–æ–¥—É –∏–≥—Ä—ã.</div>
            </div>
            <div class="text-right">
              <div class="text-[11px] text-white/70">–°–µ—Ä–∏—è</div>
              <div class="font-extrabold text-sm">‚ö° HOT DROP</div>
              <div class="font-extrabold text-sm text-white/60">x<span id="hotStreak">1</span></div>
            </div>
          </div>

          <div class="mt-4 rounded-3xl border border-white/15 bg-white/5 p-4">
            <div class="text-sm font-extrabold">–û–∫–Ω–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–∞</div>
            <div class="text-xs text-white/70 mt-1">–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–µ–π—Å–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π.</div>
          </div>

          <button id="openSpinModalBtn" class="btn btn-primary mt-4 w-full rounded-2xl font-extrabold py-4 opacity-50" disabled>–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–µ–π—Å</button>
          <div class="mt-2 text-xs text-white/60">–°—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∞: <span id="spinCost" class="font-bold text-white/80">‚Äî</span>‚≠ê</div>

          <div class="mt-3 hidden" id="spinResult">
            <div class="rounded-2xl bg-white/10 border border-white/15 p-3">
              <div class="text-[11px] text-white/70">–†–µ–∑—É–ª—å—Ç–∞—Ç</div>
              <div class="font-extrabold" id="spinText">‚Äî</div>
            </div>
          </div>
        </div>

        <div class="card rounded-3xl p-4 hidden" id="vaultPreviewCard">
          <div class="font-extrabold">–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
          <div class="text-xs text-white/70 mt-1">–ü–æ—Å–ª–µ —Ä–µ–¥–∫–æ–≥–æ –¥—Ä–æ–ø–∞ –≤–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω –∑–∞–∫—Ä—ã—Ç—ã–π —Ä–∞–∑–¥–µ–ª –Ω–∞–≥—Ä–∞–¥.</div>
          <button id="openVaultBtn" class="btn btn-primary mt-3 w-full rounded-2xl font-extrabold py-3">–û—Ç–∫—Ä—ã—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
        </div>
      </section>

    </main>
  </div>

  <!-- Deposit modal -->
  <div id="depositModal" class="hidden fixed inset-0 modal-backdrop z-50">
    <div class="h-[100dvh] overflow-y-auto flex items-center justify-center px-4 py-6">
      <div class="card w-full max-w-sm rounded-3xl p-4">
        <div class="text-sm font-extrabold">–ü–æ–ø–æ–ª–Ω–∏—Ç—å Stars</div>
        <div class="text-xs text-white/70 mt-1">–í–≤–µ–¥–∏—Ç–µ –ª—é–±—É—é —Å—É–º–º—É –æ—Ç 1‚≠ê</div>
        <input id="depositAmount" type="number" min="1" step="1"
               class="mt-3 w-full bg-white/5 border border-white/15 rounded-2xl px-3 py-3 text-sm focus:outline-none"
               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1, 25, 500" />
        <div class="mt-3 flex gap-2">
          <button id="depositCancel" class="btn flex-1 rounded-2xl bg-white/10 border border-white/15 font-extrabold py-3">–û—Ç–º–µ–Ω–∞</button>
          <button id="depositConfirm" class="btn flex-1 rounded-2xl bg-white text-black font-extrabold py-3">–û–ø–ª–∞—Ç–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Withdraw modal -->
  <div id="withdrawModal" class="hidden fixed inset-0 modal-backdrop z-50">
    <div class="h-[100dvh] overflow-y-auto flex items-center justify-center px-4 py-6">
      <div class="card w-full max-w-sm rounded-3xl p-4">
        <div class="text-sm font-extrabold">–í—ã–≤–æ–¥ Stars</div>
        <div class="text-xs text-white/70 mt-1">–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É (–º–∏–Ω–∏–º—É–º 1000‚≠ê)</div>
        <input id="withdrawAmount" type="number" min="1000" step="1"
               class="mt-3 w-full bg-white/5 border border-white/15 rounded-2xl px-3 py-3 text-sm focus:outline-none"
               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1000" />
        <div class="mt-3 flex gap-2">
          <button id="withdrawCancel" class="btn flex-1 rounded-2xl bg-white/10 border border-white/15 font-extrabold py-3">–û—Ç–º–µ–Ω–∞</button>
          <button id="withdrawConfirm" class="btn flex-1 rounded-2xl bg-white text-black font-extrabold py-3">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Case preview modal -->
  <div id="casePreviewModal" class="hidden fixed inset-0 modal-backdrop z-50">
    <div class="h-[100dvh] overflow-y-auto flex items-center justify-center px-4 py-6">
      <div class="card w-full max-w-md rounded-3xl p-4 result-pop">
        <div class="flex items-center justify-between">
          <div class="text-sm font-extrabold">–í—ã–±–æ—Ä –∫–µ–π—Å–∞</div>
          <button id="casePreviewClose" class="rounded-xl bg-white/10 border border-white/15 px-3 py-1.5 text-xs font-extrabold">‚úï</button>
        </div>
        <div class="mt-3 case-cover h-44">
          <img id="casePreviewImg" src="" alt="case"/>
          <div class="absolute left-3 top-3 z-10 case-tag" id="casePreviewPrice">‚Äî</div>
        </div>
        <div class="mt-3 text-xl font-black" id="casePreviewTitle">–ö–µ–π—Å</div>
        <div class="mt-1 text-xs text-white/70" id="casePreviewDesc">‚Äî</div>
        <div class="mt-3 flex flex-wrap gap-2" id="casePreviewPrizes"></div>
        <div class="mt-3 rounded-2xl bg-white/5 border border-white/15 p-3">
          <div class="text-xs text-white/70">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–µ–π—Å–∞ (–ª–∏—Å—Ç–∞–π)</div>
          <div id="casePreviewItems" class="mt-2 max-h-56 overflow-y-auto space-y-2"></div>
        </div>
        <button id="casePreviewSelect" class="btn btn-primary mt-4 w-full rounded-2xl font-extrabold py-3">–í—ã–±—Ä–∞—Ç—å –∫–µ–π—Å</button>
      </div>
    </div>
  </div>

  <!-- Fullscreen result/alerts -->
  <div id="resultOverlay" class="hidden fixed inset-0 z-[60] modal-backdrop">
    <div class="h-[100dvh] overflow-y-auto flex items-center justify-center px-4 py-6">
      <div class="w-full max-w-sm rounded-3xl border border-white/20 bg-[#0c1224]/95 p-5 shadow-2xl result-pop">
        <div id="resultBadge" class="case-tag">–†–µ–∑—É–ª—å—Ç–∞—Ç</div>
        <div id="resultTitle" class="mt-3 text-2xl font-black leading-tight">‚Äî</div>
        <div id="resultText" class="mt-2 text-sm text-white/80">‚Äî</div>
        <div class="mt-5 grid grid-cols-2 gap-2">
          <button id="resultSecondary" class="hidden btn rounded-2xl bg-white/10 border border-white/15 py-3 font-extrabold">–û–∫</button>
          <button id="resultPrimary" class="btn btn-primary rounded-2xl py-3 font-extrabold col-span-2">–ü–æ–Ω—è—Ç–Ω–æ</button>
        </div>
      </div>
    </div>
  </div>

  <div id="liveWinToast" class="live-toast">
    <div class="rounded-2xl border border-white/20 bg-[#0f1635]/95 px-3 py-2 shadow-2xl">
      <div class="text-[10px] text-white/60 uppercase">Live drop</div>
      <div id="liveWinText" class="text-sm font-extrabold">–ò–≥—Ä–æ–∫ –≤—ã–∏–≥—Ä–∞–ª –ø—Ä–∏–∑</div>
    </div>
  </div>

  <div id="fxLayer" class="fx-layer"></div>

  <div id="eventModal" class="hidden fixed inset-0 modal-backdrop z-[64]">
    <div class="h-[100dvh] overflow-y-auto flex items-center justify-center px-4 py-6">
      <div class="card w-full max-w-md rounded-3xl p-5 result-pop">
        <div class="flex items-center justify-between">
          <div class="text-xs text-white/70">–°–æ–±—ã—Ç–∏–µ</div>
          <button id="eventModalClose" class="rounded-xl bg-white/10 border border-white/15 px-3 py-1.5 text-xs font-extrabold">‚úï</button>
        </div>
        <img id="eventModalImg" src="/static/prizes/r4/ticket_sneakers_3.svg" class="mt-2 w-full h-36 rounded-2xl object-cover border border-white/15"/>
        <div id="eventModalTitle" class="mt-3 text-2xl font-black">CLO DROP</div>
        <div id="eventModalText" class="mt-2 text-sm text-white/75">–û–ø–∏—Å–∞–Ω–∏–µ –∏–≤–µ–Ω—Ç–∞</div>
        <button id="eventModalAction" class="btn btn-primary mt-4 w-full rounded-2xl py-3 font-extrabold">–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- Hidden tickets vault -->
  <div id="ticketVaultModal" class="hidden fixed inset-0 modal-backdrop z-[65]">
    <div class="h-[100dvh] overflow-y-auto flex items-center justify-center px-4 py-6">
      <div class="card w-full max-w-sm max-h-[88dvh] overflow-hidden rounded-3xl p-5 result-pop flex flex-col">
        <div class="shrink-0">
          <div class="text-xs text-white/70">–ó–∞–∫—Ä—ã—Ç—ã–π —Ä–∞–∑–¥–µ–ª</div>
          <div class="text-2xl font-black mt-1">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –¥–æ—Å—Ç—É–ø–æ–≤</div>
          <div class="text-xs text-white/70 mt-2">–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∫–æ–ø–∏—Ç—å –¥–æ—Å—Ç—É–ø—ã –∏ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å –∏—Ö –Ω–∞ –Ω–∞–≥—Ä–∞–¥—ã.</div>
        </div>
        <div class="mt-4 flex-1 overflow-y-auto pr-1">
          <div class="rounded-2xl bg-white/5 border border-white/15 p-3">
            <div class="text-xs font-extrabold">–ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ –≤—ã–≤–æ–¥–∞</div>
            <div id="progressList" class="mt-2 space-y-3"></div>
          </div>
          <div class="mt-4 rounded-2xl bg-white/5 border border-white/15 p-3">
            <div class="flex items-center justify-between gap-2">
              <div class="text-xs font-extrabold">–ü—Ä–æ–¥–∞–∂–∞ —Ç–∏–∫–µ—Ç–æ–≤</div>
              <div class="text-[11px] text-white/60" id="ticketSellHint">‚Äî</div>
            </div>
            <div id="ticketLotsList" class="mt-2 space-y-2"></div>
          </div>
          <div id="inventoryList" class="mt-4 space-y-2"></div>
        </div>
        <button id="ticketVaultClose" class="btn btn-primary mt-4 w-full rounded-2xl font-extrabold py-3 shrink-0">–ü–æ–Ω—è—Ç–Ω–æ</button>
      </div>
    </div>
  </div>

  <div id="profileModal" class="hidden fixed inset-0 modal-backdrop z-[63]">
    <div class="h-[100dvh] overflow-y-auto flex items-center justify-center px-4 py-6">
      <div class="card w-full max-w-md rounded-3xl p-4 result-pop">
        <div class="flex items-center justify-between">
          <div>
            <div class="text-xs text-white/70">–ü—Ä–æ—Ñ–∏–ª—å</div>
            <div class="text-lg font-black">–ê–∫–∫–∞—É–Ω—Ç –∏ –∏—Å—Ç–æ—Ä–∏—è</div>
          </div>
          <button id="profileClose" class="rounded-xl bg-white/10 border border-white/15 px-3 py-1.5 text-xs font-extrabold">‚úï</button>
        </div>
        <div class="mt-3 rounded-2xl bg-white/5 border border-white/15 p-3">
          <div class="text-[11px] text-white/70">–í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞</div>
          <div class="mt-2 flex gap-2">
            <input id="refLink" class="w-full bg-white/5 border border-white/15 rounded-2xl px-3 py-3 text-xs focus:outline-none" value="‚Äî" readonly/>
            <button id="copyRef" class="btn rounded-2xl bg-white text-black font-extrabold px-4">Copy</button>
          </div>
        </div>
        <div class="mt-3 text-xs text-white/70">–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</div>
        <div id="history" class="mt-2 max-h-72 overflow-auto space-y-2"></div>
        <div class="mt-3 text-xs text-white/70">–ú–æ–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã</div>
        <div id="myReferrals" class="mt-2 max-h-48 overflow-auto space-y-2"></div>
        <a id="adminLink" class="hidden mt-3 card rounded-3xl p-3 block text-center" href="/admin">‚öôÔ∏è –ê–¥–º–∏–Ω–∫–∞</a>
      </div>
    </div>
  </div>

  <!-- Spin modal -->
  <div id="caseSpinModal" class="hidden fixed inset-0 modal-backdrop z-[55]">
    <div class="h-[100dvh] overflow-y-auto flex items-center justify-center px-4 py-6">
      <div class="card w-full max-w-md rounded-3xl p-4 result-pop">
        <div class="flex items-center justify-between gap-2">
          <div>
            <div class="text-xs text-white/70">–û—Ç–∫—Ä—ã—Ç–∏–µ –∫–µ–π—Å–∞</div>
            <div id="spinModalTitle" class="text-lg font-black">–ö–µ–π—Å</div>
          </div>
          <button id="caseSpinClose" class="rounded-xl bg-white/10 border border-white/15 px-3 py-1.5 text-xs font-extrabold">‚úï</button>
        </div>
        <div class="mt-3 relative overflow-hidden rounded-3xl border border-white/15 bg-white/5" style="height: 320px;">
          <div class="absolute inset-0 pointer-events-none">
            <div class="absolute inset-x-0 top-1/2 h-1 -translate-y-1/2 bg-white/20"></div>
            <div class="absolute left-0 right-0 top-0 h-12 bg-gradient-to-b from-[#070814]/95 via-[#070814]/65 to-transparent backdrop-blur-[2px]"></div>
            <div class="absolute left-0 right-0 bottom-0 h-12 bg-gradient-to-t from-[#070814]/95 via-[#070814]/65 to-transparent backdrop-blur-[2px]"></div>
            <div class="absolute top-0 bottom-0 left-0 w-4 bg-gradient-to-r from-[#070814]/80 to-transparent"></div>
            <div class="absolute top-0 bottom-0 right-0 w-4 bg-gradient-to-l from-[#070814]/80 to-transparent"></div>
          </div>
          <div class="absolute left-2 top-1/2 -translate-y-1/2 z-20">
            <div class="w-0 h-0 border-t-[12px] border-b-[12px] border-r-[18px] border-t-transparent border-b-transparent border-r-[#ffd36e] drop-shadow-[0_0_10px_rgba(255,211,110,0.9)]"></div>
          </div>
          <div class="absolute right-2 top-1/2 -translate-y-1/2 z-20">
            <div class="w-0 h-0 border-t-[12px] border-b-[12px] border-l-[18px] border-t-transparent border-b-transparent border-l-[#ffd36e] drop-shadow-[0_0_10px_rgba(255,211,110,0.9)]"></div>
          </div>
          <div id="reelModal" class="reel flex flex-col gap-3 py-5 px-4" style="transform: translateY(0px);"></div>
        </div>
        <button id="spinBtn" class="btn btn-primary pulse mt-4 w-full rounded-2xl font-extrabold py-4">–ö—Ä—É—Ç–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="/static/mobile.js?v=201"></script>
</body>
</html>
